<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Nouvelle tâche assignée</title>
</head>
<body>
    <div style="max-width: 600px; margin: 0 auto; font-family: Arial, sans-serif;">
        <div style="background-color: #f8f9fa; padding: 20px; text-align: center; border-bottom: 1px solid #e9ecef;">
            <h1 style="color: #007bff;">Task Manager</h1>
        </div>

        <div style="padding: 20px;">
            <h2 style="color: #343a40;">Bonjour {{ assignee.firstName }},</h2>

            <p>Une nouvelle tâche vous a été assignée par {{ creator.fullName }} :</p>

            <div style="background-color: #f8f9fa; border-left: 4px solid #007bff; padding: 15px; margin: 20px 0;">
                <h3 style="margin-top: 0; color: #007bff;">{{ task.title }}</h3>
                {% if task.description %}
                    <p>{{ task.description }}</p>
                {% endif %}

                <div style="margin-top: 15px;">
                    <p><strong>Statut :</strong> {{ task.statusLabel }}</p>
                    <p><strong>Priorité :</strong> {{ task.priorityLabel }}</p>
                    {% if task.dueDate %}
                        <p><strong>Échéance :</strong> {{ task.dueDate|date('d/m/Y à H:i') }}</p>
                    {% endif %}
                </div>
            </div>

            <p style="margin-top: 20px;">
                <a href="{{ absolute_url(path('task_show', {id: task.id})) }}"
                   style="display: inline-block; background-color: #007bff; color: white; padding: 10px 20px; text-decoration: none; border-radius: 4px;">
                    Voir la tâche
                </a>
            </p>

            <p style="margin-top: 30px; color: #6c757d; font-size: 0.9em;">
                Vous recevez cet email parce que vous avez été assigné à cette tâche sur Task Manager.
            </p>
        </div>
    </div>
</body>
</html>
